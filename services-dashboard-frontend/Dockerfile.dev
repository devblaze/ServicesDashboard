FROM node:20-alpine

WORKDIR /app

# Enable Corepack for Yarn modern versions
RUN corepack enable

# Copy package files first for better caching
COPY package.json ./
COPY yarn.lock .yarnrc.yml ./
COPY .yarn ./.yarn

# Install dependencies with Yarn
RUN yarn install

# Expose port
EXPOSE 5173

# The source code will be mounted as a volume
# Command will be specified in docker-compose
